{"version":3,"sources":["StreamsSequenceStream.js"],"names":["define","skylark","langx","streams","DecodeStream","StreamsSequenceStream","inherit","klassName","init","this","dict","stream","overrided","readBlock","length","eof","shift","chunk","getBytes","bufferLength","newLength","buffer","ensureBuffer","set"],"mappings":";;;;;;;AACAA,QACI,wBACA,sBACA,YACA,kBACD,SAASC,EAASC,EAAOC,EAASC,GAEjC,GAAIC,GAAwBD,EAAaE,SACrCC,UAAY,wBAEZC,KAAO,SAASL,GACZM,KAAKC,KAAOC,OAAOD,KACnBD,KAAKG,aAGTC,UAAY,WACR,GAAIV,GAAUM,KAAKN,OACnB,IAAsB,GAAlBA,EAAQW,OAER,YADAL,KAAKM,KAAM,EAGf,IAAIJ,GAASR,EAAQa,QACjBC,EAAQN,EAAOO,WACfC,EAAeV,KAAKU,aACpBC,EAAYD,EAAeF,EAAMH,OACjCO,EAASZ,KAAKa,aAAaF,EAC/BC,GAAOE,IAAIN,EAAOE,GAClBV,KAAKU,aAAeC,IAI5B,OAAOjB,GAAQE,sBAAwBA","file":"../StreamsSequenceStream.js","sourcesContent":["\r\ndefine([\r\n    \"skylark-langx/skylark\",\r\n    \"skylark-langx/langx\",\r\n    \"./streams\",\r\n    \"./DecodeStream\"\r\n], function(skylark, langx, streams, DecodeStream) {\r\n\r\n    var StreamsSequenceStream = DecodeStream.inherit({\r\n        klassName : \"StreamsSequenceStream\",\r\n\r\n        init : function(streams) {\r\n            this.dict = stream.dict;\r\n            this.overrided();          \r\n        },\r\n\r\n        readBlock : function() {\r\n            var streams = this.streams;\r\n            if (streams.length == 0) {\r\n                this.eof = true;\r\n                return;\r\n            }\r\n            var stream = streams.shift();\r\n            var chunk = stream.getBytes();\r\n            var bufferLength = this.bufferLength;\r\n            var newLength = bufferLength + chunk.length;\r\n            var buffer = this.ensureBuffer(newLength);\r\n            buffer.set(chunk, bufferLength);\r\n            this.bufferLength = newLength;\r\n        }\r\n    });\r\n\r\n    return streams.StreamsSequenceStream = StreamsSequenceStream;\r\n});\r\n"]}